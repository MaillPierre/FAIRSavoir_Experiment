@prefix mf:      <http://www.w3.org/2001/sw/DataAccess/tests/test-manifest#> .
@prefix kgi: <http://ns.inria.fr/kg/index#> .

<> a mf:Manifest ;
    mf:include (
        <equivalences/manifest.ttl>
        <inclusion/manifest.ttl>
        <redundancy/manifest.ttl>
        <https://raw.githubusercontent.com/Jendersen/KG_accountability/main/rules/manifest.ttl>
    ) ;
    mf:entries (
        <initialization.ttl>
        # <exampleQueries.ttl>
    ) .

<initialization.ttl>  a mf:ManifestEntry ;
    kgi:onSuccess (
        [
            mf:action """
            PREFIX rdfs:       <http://www.w3.org/2000/01/rdf-schema#>
            PREFIX owl:        <http://www.w3.org/2002/07/owl#>
            PREFIX xsd:        <http://www.w3.org/2001/XMLSchema#>
            PREFIX dcat:       <http://www.w3.org/ns/dcat#>
            PREFIX foaf:       <http://xmlns.com/foaf/0.1/>
            PREFIX prov:       <http://www.w3.org/ns/prov#>
            PREFIX schema:		<http://schema.org/>
            PREFIX void:       <http://rdfs.org/ns/void#>
            PREFIX sd:     	<http://www.w3.org/ns/sparql-service-description#>
            PREFIX dct:        <http://purl.org/dc/terms/>
            PREFIX skos:       <http://www.w3.org/2004/02/skos/core#>
            PREFIX kgi:        <http://ns.inria.fr/kg/index#>
            PREFIX virtrdf:	<http://www.openlinksw.com/schemas/virtrdf#>
            PREFIX bif:	<bif:>
            PREFIX sql:	<sql:>
            PREFIX formats:	<http://www.w3.org/ns/formats/>
            PREFIX dekalog:	<http://prod-dekalog.inria.fr/>

            INSERT DATA {
                kgi:IndeGxDataset
                    a   dcat:Dataset, schema:Dataset, void:Dataset, prov:Entity, sd:Dataset ;
                    dct:title       "IndeGx datasets descriptions"@en ;
                    dct:description     "This dataset contains les results of IndeGx extraction of descriptions of datasets and endpoints."@en ;

                    foaf:homepage       <http://prod-dekalog.inria.fr> ;

                    dcat:contactPoint   "pierre.maillot@inria.fr" ;

                    dct:creator             <https://orcid.org/0000-0002-9814-439X> ;
                    dct:publisher           <https://ror.org/0496p8026> , <https://ror.org/02kvxyf05> , <https://ror.org/02feahw73> , <https://team.inria.fr/wimmics/> ;
                    prov:wasAttributedTo    <https://orcid.org/0000-0002-9814-439X> ;
                    schema:editor           <https://orcid.org/0000-0002-9814-439X> , <https://orcid.org/0000-0001-9064-0463> , <https://orcid.org/0000-0001-5959-5561> ;
                    dct:contributor         <https://orcid.org/0000-0001-9064-0463> , <https://orcid.org/0000-0001-5959-5561> ;

                    dct:license     <https://www.gnu.org/licenses/gpl-3.0> ;

                    dct:language        "en" , "de" , "fi" ;
                    void:vocabulary     <http://www.w3.org/1999/02/22-rdf-syntax-ns#> , <http://www.w3.org/2000/01/rdf-schema#> , <http://www.w3.org/2002/07/owl#> , <http://purl.org/dc/terms/> , <http://www.w3.org/ns/sparql-service-description#> , <http://rdfs.org/ns/void#> , <http://www.w3.org/ns/dcat#> , <http://ns.inria.fr/kg/index#> , <http://www.w3.org/ns/prov#> , <http://schema.org/> , <http://ldf.fi/void-ext#> , <http://creativecommons.org/ns#> , <http://www.w3.org/2004/02/skos/core#> , <http://xmlns.com/foaf/0.1/> , <http://purl.org/dc/elements/1.1/> , <http://www.w3.org/ns/earl#> , <http://spdx.org/rdf/terms#> , <http://www.w3.org/ns/dqv#> , <http://purl.org/nkos/> , <https://schema.org/> , <http://purl.org/goodrelations/v1#> , <http://www.w3.org/ns/hydra/core#> , <http://www.openlinksw.com/schemas/VSPX#> , <http://www.w3.org/2001/vcard-rdf/3.0#> , <http://ldf.fi/schema/ldf/> , <http://www.ebusiness-unibw.org/ontologies/eclass/5.1.4/#> ;

                    prov:wasGeneratedBy     <https://github.com/Wimmics/IndeGx> ;

                    dcat:keyword    "Metadata" , "Quality" ;

                    void:uriSpace           "http://ns.inria.fr/kg/index#" ;
                    void:uriRegexPattern    "http://ns.inria.fr/kg/index#*" ;

                    void:sparqlEndpoint <http://prod-dekalog.inria.fr/sparql> ;
                    dcat:distribution [
                        a               dcat:Distribution ;
                        dct:title       "IndeGx's endpoint" ;
                        dcat:accessURL  <http://prod-dekalog.inria.fr/sparql> ;
                        dcat:mediaType  "application/sparql-query" ;
                        dcat:accessService <http://prod-dekalog.inria.fr/sparql-sd>
                    ] ;

                    dcat:service <http://prod-dekalog.inria.fr/sparql-sd> .

                <http://prod-dekalog.inria.fr/sparql-sd>
                    a sd:Service, dcat:DataService , prov:Entity ;
                    dcat:servesDataset kgi:IndeGxDataset ;
                    sd:availableGraphs kgi:IndeGxDataset ;
                    sd:endpoint             dekalog:sparql ;
                    dcat:endpointUrl        dekalog:sparql ;
                    dct:creator             <https://orcid.org/0000-0002-9814-439X> , <https://orcid.org/0000-0001-9064-0463> ;
                    prov:wasAttributedTo    <https://orcid.org/0000-0002-9814-439X> , <https://orcid.org/0000-0001-9064-0463> ;
                    sd:feature 	sd:UnionDefaultGraph ,
                            sd:RequiresDataset ,
                            sd:EmptyGraphs ,
                            sd:BasicFederatedQuery ;
                    sd:resultFormat formats:N3 ,
                            formats:N-triples ,
                            formats:RDFa ,
                            formats:RDF_XML ,
                            formats:SPARQL_Results_XML ,
                            formats:SPARQL_Results_JSON ,
                            formats:SPARQL_Results_CSV ,
                            formats:Turtle ,
                            virtrdf:FileFormat_SPARQL_Results_HTML ,
                            virtrdf:FileFormat_SPARQL_Results_Spreadsheet ,
                            virtrdf:FileFormat_SPARQL_Results_Javascript ,
                            virtrdf:FileFormat_SPARQL_Results_CXML ,
                            virtrdf:FileFormat_SPARQL_Results_CXML_QR ,
                            virtrdf:FileFormat_Triples_RDF_JSON ,
                            virtrdf:FileFormat_Triples_XHTML_RDFa ,
                            virtrdf:FileFormat_Triples_ATOM_XML ,
                            virtrdf:FileFormat_Triples_ODATA_JSON ,
                            virtrdf:FileFormat_Triples_HTML_list ,
                            virtrdf:FileFormat_Triples_HTML_table ,
                            virtrdf:FileFormat_Triples_HTML_Microdata ,
                            virtrdf:FileFormat_Triples_Microdata_JSON ,
                            virtrdf:FileFormat_Triples_CSV ,
                            virtrdf:FileFormat_Triples_CXML ,
                            virtrdf:FileFormat_Triples_CXML_QR ,
                            virtrdf:FileFormat_Quads_TriG ;
                    sd:supportedLanguage sd:SPARQL10Query ,
                            sd:SPARQL11Query ;
                    sd:languageExtension	virtrdf:SSG_SD_QUAD_MAP ,
                        virtrdf:SSG_SD_OPTION ,
                        virtrdf:SSG_SD_IN ,
                        virtrdf:SSG_SD_LIKE ,
                        virtrdf:SSG_SD_GLOBALS ,
                        virtrdf:SSG_SD_BI ,
                        virtrdf:SSG_SD_VIRTSPECIFIC ,
                        virtrdf:SSG_SD_SERVICE ,
                        virtrdf:SSG_SD_TRANSIT ,
                        virtrdf:SSG_SD_SPARQL11_DRAFT ;
                    sd:propertyFeature	bif:contains ;
                    sd:extensionFunction	bif:abs ;
                    sd:extensionAggregate	sql:STDDEV .

                <https://ror.org/0496p8026>
                    a foaf:Organization, prov:Organization;
                    foaf:name "University CÃ´te d'Azur";
                    foaf:homepage <https://univ-cotedazur.fr>.

                <https://ror.org/02kvxyf05>
                    a foaf:Organization, prov:Organization;
                    foaf:name "Inria";
                    foaf:homepage <https://www.inria.fr>.

                <https://ror.org/02feahw73>
                    a foaf:Organization, prov:Organization;
                    foaf:name "CNRS";
                    foaf:homepage <https://www.cnrs.fr>.

                <https://team.inria.fr/wimmics/> a foaf:Organization, prov:Organization;
                    dct:isPartOf <https://ror.org/02kvxyf05> ;
                    foaf:name "Wimmics research team".

                <https://orcid.org/0000-0002-9814-439X>
                    a foaf:Person , prov:Person;
                    prov:actedOnBehalfOf  <https://team.inria.fr/wimmics/> ;
                    foaf:name "Pierre MAILLOT" ;
                    schema:name "Pierre MAILLOT" ;
                    schema:sameAs <https://cv.archives-ouvertes.fr/pierre-maillot>, <https://www.researchgate.net/profile/Pierre-Maillot> .

                <https://orcid.org/0000-0001-9064-0463>
                    a foaf:Person, prov:Person;
                    prov:actedOnBehalfOf  <https://team.inria.fr/wimmics/> ;
                    foaf:name "Franck MICHEL";
                    schema:name "Franck MICHEL";
                    foaf:homepage <https://w3id.org/people/franckmichel>;
                    schema:sameAs <https://cv.archives-ouvertes.fr/fmichel/>, <https://www.researchgate.net/profile/Franck_Michel3>.

                <https://orcid.org/0000-0001-5959-5561>
                    a foaf:Person, prov:Person;
                    prov:actedOnBehalfOf  <https://team.inria.fr/wimmics/> ;
                    schema:name "Catherine FARON";
                    foaf:name "Catherine FARON";
                    foaf:homepage <http://www.i3s.unice.fr/~faron/>;
                    schema:sameAs <https://cv.archives-ouvertes.fr/catherine-faron-zucker>,
                        <https://www.researchgate.net/profile/Catherine_Faron-Zucker>.

                <https://github.com/Wimmics/IndeGx> a prov:SoftwareAgent .
            }
            """
        ]
    ) .

# <exampleQueries.ttl> a mf:ManifestEntry ;
#     kgi:onSuccess (
#         [
#             mf:action """
#                 PREFIX dcterms: <http://purl.org/dc/terms/>
#                 PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
#                 PREFIX kgi: <http://ns.inria.fr/kg/index#>
#                 INSERT DATA {
#                     kgi:IndeGxDataset skos:example  kgi:example1 .
#                     kgi:example1 dcterms:subject "PREFIX dcat: <http://www.w3.org/ns/dcat#> PREFIX kgi: <http://ns.inria.fr/kg/index#> PREFIX prov: <http://www.w3.org/ns/prov#> SELECT DISTINCT ?rule (count(DISTINCT ?base) AS ?count) WHERE { ?base a  dcat:Dataset . ?metadata kgi:curated ?base . ?metadata prov:wasGeneratedBy ?activity . ?activity a prov:Activity ;  prov:used ?rule . } GROUP BY ?rule ORDER BY DESC(?count)" ;
#                         dcterms:description "Extract the list of rules used with the number of bases that have used them." .
#                 }
#             """
#         ]
#         [
#             mf:action """
#                 PREFIX dcterms: <http://purl.org/dc/terms/>
#                 PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
#                 PREFIX kgi: <http://ns.inria.fr/kg/index#>
#                 INSERT DATA {
#                     kgi:IndeGxDataset skos:example   kgi:example2 .
#                     kgi:example2 dcterms:subject "PREFIX void: <http://rdfs.org/ns/void#> PREFIX dcat: <http://www.w3.org/ns/dcat#> PREFIX earl: <http://www.w3.org/ns/earl#> PREFIX kgi: <http://ns.inria.fr/kg/index#> PREFIX voidex: <http://ldf.fi/void-ext#> SELECT ?datasetDesc ?endpoint ?class ?triples WHERE { ?datasetDesc a dcat:Dataset . ?datasetDesc void:sparqlEndpoint ?endpoint . ?datasetDesc void:classPartition ?partition . ?partition void:class ?class . ?partition void:triples ?triples . } GROUP BY ?endpoint ORDER BY DESC( ?datasetDesc) " ;
#                         dcterms:description "Number of triples per class per KB." .
#                 }
#             """
#         ]
#         [
#             mf:action """
#                 PREFIX dcterms: <http://purl.org/dc/terms/>
#                 PREFIX kgi: <http://ns.inria.fr/kg/index#>
#                 PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
#                 INSERT DATA {
#                     kgi:IndeGxDataset skos:example   kgi:example3 .
#                     kgi:example3 dcterms:subject "PREFIX void: <http://rdfs.org/ns/void#> PREFIX dcat: <http://www.w3.org/ns/dcat#> PREFIX earl: <http://www.w3.org/ns/earl#> PREFIX kgi: <http://ns.inria.fr/kg/index#> PREFIX voidex: <http://ldf.fi/void-ext#> SELECT ?datasetDesc ?endpoint ?class ?triples WHERE { ?datasetDesc a dcat:Dataset . ?datasetDesc void:sparqlEndpoint ?endpoint . ?datasetDesc void:classPartition ?partition . ?partition void:class ?class . ?partition void:classes ?triples . } GROUP BY ?endpoint ORDER BY DESC( ?datasetDesc) " ;
#                         dcterms:description "Number of classes used conjointly per class per KB." .
#                 }
#             """
#         ]
#         [
#             mf:action """
#                 PREFIX dcterms: <http://purl.org/dc/terms/>
#                 PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
#                 PREFIX kgi: <http://ns.inria.fr/kg/index#>
#                 INSERT DATA {
#                     kgi:IndeGxDataset skos:example  kgi:example4 .
#                     kgi:example4 dcterms:subject "PREFIX void: <http://rdfs.org/ns/void#> PREFIX dcat: <http://www.w3.org/ns/dcat#> PREFIX earl: <http://www.w3.org/ns/earl#> PREFIX kgi: <http://ns.inria.fr/kg/index#> SELECT DISTINCT ?base ?test ?outcome WHERE { ?base a dcat:Dataset . ?metadata kgi:curated ?base . ?metadata kgi:trace ?trace . ?trace earl:result ?result . ?result earl:outcome ?outcome . ?trace earl:test ?test . } GROUP BY ?metadata ?result ORDER BY DESC( ?base) ASC(?test)" ;
#                         dcterms:description "Returns the list of tests and their outcome for each KB." .
#                 }
#             """
#         ]
#         [
#             mf:action """
#                 PREFIX dcterms: <http://purl.org/dc/terms/>
#                 PREFIX kgi: <http://ns.inria.fr/kg/index#>
#                 PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
#                 INSERT DATA {
#                     kgi:IndeGxDataset skos:example  kgi:example5 .
#                     kgi:example5 dcterms:subject "PREFIX void: <http://rdfs.org/ns/void#> PREFIX sd: <http://www.w3.org/ns/sparql-service-description#> PREFIX dcat: <http://www.w3.org/ns/dcat#> PREFIX earl: <http://www.w3.org/ns/earl#> PREFIX kgi: <http://ns.inria.fr/kg/index#> SELECT DISTINCT  ?endpoint ?feature WHERE { ?datasetDesc a dcat:Dataset . ?datasetDesc void:sparqlEndpoint ?endpoint . ?endpointDesc a sd:Service . ?endpointDesc sd:endpoint ?endpoint . ?endpointDesc sd:feature ?feature . FILTER( CONTAINS(str(?feature), str(sd:))) } GROUP BY ?endpoint ?feature  ORDER BY DESC( ?datasetDesc)" ;
#                         dcterms:description "List of the SPARQL-SD features of the endpoint of each KB." .
#                 }
#             """
#         ]
#         [
#             mf:action """
#                 PREFIX dcterms: <http://purl.org/dc/terms/>
#                 PREFIX kgi: <http://ns.inria.fr/kg/index#>
#                 PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
#                 INSERT DATA {
#                     kgi:IndeGxDataset skos:example  kgi:example6 .
#                     kgi:example6 dcterms:subject "PREFIX kgi: <http://ns.inria.fr/kg/index#> PREFIX dcterms: <http://purl.org/dc/terms/> PREFIX skos: <http://www.w3.org/2004/02/skos/core#> SELECT DISTINCT ?description ?query WHERE { kgi:IndeGxDataset skos:example ?exampleRes . ?exampleRes dcterms:description ?description . ?exampleRes dcterms:subject ?query . }" ;
#                         dcterms:description "Returns the list of example queries." .
#                 }
#             """
#         ]
#         [
#             mf:action """
#                 PREFIX dcterms: <http://purl.org/dc/terms/>
#                 PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
#                 PREFIX kgi: <http://ns.inria.fr/kg/index#>
#                 INSERT DATA {
#                     kgi:IndeGxDataset skos:example kgi:example7 .
#                     kgi:example7 dcterms:subject "PREFIX void: <http://rdfs.org/ns/void#> PREFIX dcat: <http://www.w3.org/ns/dcat#> PREFIX earl: <http://www.w3.org/ns/earl#> PREFIX kgi: <http://ns.inria.fr/kg/index#> PREFIX voidex: <http://ldf.fi/void-ext#> SELECT ?datasetDesc ?endpoint ?class WHERE { ?datasetDesc a dcat:Dataset . ?datasetDesc void:sparqlEndpoint ?endpoint . ?datasetDesc void:classPartition ?partition . ?partition void:class ?class . } GROUP BY ?endpoint ORDER BY DESC( ?datasetDesc)" ;
#                         dcterms:description "List of classes per KB." .
#                 }
#             """
#         ]
#         [
#             mf:action """
#                 PREFIX dcterms: <http://purl.org/dc/terms/>
#                 PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
#                 PREFIX kgi: <http://ns.inria.fr/kg/index#>
#                 INSERT DATA {
#                     kgi:IndeGxDataset skos:example kgi:example8 .
#                     kgi:example8 dcterms:subject "PREFIX void: <http://rdfs.org/ns/void#> PREFIX dcat: <http://www.w3.org/ns/dcat#> PREFIX earl: <http://www.w3.org/ns/earl#> PREFIX kgi: <http://ns.inria.fr/kg/index#> PREFIX voidex: <http://ldf.fi/void-ext#> PREFIX sd: <http://www.w3.org/ns/sparql-service-description#> SELECT ?datasetDesc ?endpointDesc ?metadataDesc ?endpoint WHERE { ?datasetDesc a dcat:Dataset . ?datasetDesc void:sparqlEndpoint ?endpoint . ?endpointDesc sd:endpoint ?endpoint . ?metadataDesc kgi:curated ?datasetDesc , ?endpointDesc . } GROUP BY ?endpoint ORDER BY DESC( ?datasetDesc)" ;
#                         dcterms:description "Returns the list description resources for the dataset, endpoint and metadata of each KB." .
#                 }
#             """
#         ]
#         [
#             mf:action """
#                 PREFIX dcterms: <http://purl.org/dc/terms/>
#                 PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
#                 PREFIX kgi: <http://ns.inria.fr/kg/index#>
#                 INSERT DATA {
#                     kgi:IndeGxDataset skos:example kgi:example9 .
#                     kgi:example9 dcterms:subject "PREFIX void: <http://rdfs.org/ns/void#> PREFIX dcat: <http://www.w3.org/ns/dcat#> PREFIX earl: <http://www.w3.org/ns/earl#> PREFIX kgi: <http://ns.inria.fr/kg/index#> PREFIX voidex: <http://ldf.fi/void-ext#> SELECT ?datasetDesc ?endpoint ?IRIs WHERE { ?datasetDesc a dcat:Dataset . ?datasetDesc void:sparqlEndpoint ?endpoint . ?datasetDesc voidex:distinctIRIReferences ?IRIs . } GROUP BY ?endpoint ORDER BY DESC( ?datasetDesc)" ;
#                         dcterms:description "Number of IRIs per KB." .
#                 }
#             """
#         ]
#         [
#             mf:action """
#                 PREFIX dcterms: <http://purl.org/dc/terms/>
#                 PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
#                 PREFIX kgi: <http://ns.inria.fr/kg/index#>
#                 INSERT DATA {
#                     kgi:IndeGxDataset skos:example kgi:example10 .
#                     kgi:example10 dcterms:subject "PREFIX void: <http://rdfs.org/ns/void#> PREFIX dcat: <http://www.w3.org/ns/dcat#> PREFIX earl: <http://www.w3.org/ns/earl#> PREFIX kgi: <http://ns.inria.fr/kg/index#> SELECT DISTINCT ?base ?test ?info WHERE { ?base a dcat:Dataset . ?metadata kgi:curated ?base . ?metadata kgi:trace ?trace . ?trace earl:result ?result . ?result earl:outcome earl:failed . ?result earl:info ?info . ?trace earl:test ?test . } GROUP BY ?base ?test ?info ORDER BY DESC( ?base) ASC(?test)" ;
#                         dcterms:description "Returns the message associated with failed tests." .
#                 }
#             """
#         ]
#         [
#             mf:action """
#                 PREFIX dcterms: <http://purl.org/dc/terms/>
#                 PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
#                 PREFIX kgi: <http://ns.inria.fr/kg/index#>
#                 INSERT DATA {
#                     kgi:IndeGxDataset skos:example kgi:example11 .
#                     kgi:example11 dcterms:subject "PREFIX kgi: <http://ns.inria.fr/kg/index#> PREFIX dcterms: <http://purl.org/dc/terms/> PREFIX skos: <http://www.w3.org/2004/02/skos/core#> PREFIX dcat: <http://www.w3.org/ns/dcat#> PREFIX prov: <http://www.w3.org/ns/prov#> PREFIX earl: <http://www.w3.org/ns/earl#> PREFIX sd: <http://www.w3.org/ns/sparql-service-description#> SELECT DISTINCT ?info (count(?test) AS ?count) WHERE { ?base a dcat:Dataset . ?metadata kgi:curated ?base . ?metadata kgi:trace ?trace . ?trace earl:result ?result . ?result earl:outcome earl:failed . ?result earl:info ?info . ?trace earl:test ?test . } GROUP BY ?info ORDER BY DESC( ?count)" ;
#                         dcterms:description "Returns the message associated with failed tests and the number of times they appear in the index." .
#                 }"""
#         ]
#         [
#             mf:action """
#                 PREFIX dcterms: <http://purl.org/dc/terms/>
#                 PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
#                 PREFIX kgi: <http://ns.inria.fr/kg/index#>
#                 INSERT DATA {
#                     kgi:IndeGxDataset skos:example kgi:example12 .
#                     kgi:example12 dcterms:subject "PREFIX void: <http://rdfs.org/ns/void#> PREFIX dcat: <http://www.w3.org/ns/dcat#> PREFIX earl: <http://www.w3.org/ns/earl#> PREFIX kgi: <http://ns.inria.fr/kg/index#> SELECT DISTINCT ?base (count(?test) AS ?count)  WHERE { ?base a  dcat:Dataset . ?metadata kgi:curated ?base . ?metadata kgi:trace ?trace . ?trace earl:result ?result . ?result earl:outcome earl:passed . ?trace earl:test ?test . } GROUP BY ?base  ORDER BY DESC( ?count) ASC(?base)" ;
#                         dcterms:description "Returns the number of tests passed for each base." .
#                 }"""
#         ]
#         [
#             mf:action """
#                 PREFIX dcterms: <http://purl.org/dc/terms/>
#                 PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
#                 PREFIX kgi: <http://ns.inria.fr/kg/index#>
#                 INSERT DATA {
#                     kgi:IndeGxDataset skos:example kgi:example13 .
#                     kgi:example13 dcterms:subject "PREFIX void: <http://rdfs.org/ns/void#> PREFIX dcat: <http://www.w3.org/ns/dcat#> PREFIX earl: <http://www.w3.org/ns/earl#> PREFIX kgi: <http://ns.inria.fr/kg/index#> SELECT DISTINCT ?base (count(?test) AS ?count)  WHERE { ?base a  dcat:Dataset . ?metadata kgi:curated ?base . ?metadata kgi:trace ?trace . ?trace earl:result ?result . ?result earl:outcome earl:failed . ?trace earl:test ?test . } GROUP BY ?base  ORDER BY DESC( ?count) ASC(?base)" ;
#                         dcterms:description "Returns the number of tests failed for each base." .
#                 }"""
#         ]
#         [
#             mf:action """
#                 PREFIX dcterms: <http://purl.org/dc/terms/>
#                 PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
#                 PREFIX kgi: <http://ns.inria.fr/kg/index#>
#                 INSERT DATA {
#                     kgi:IndeGxDataset skos:example kgi:example14 .
#                     kgi:example14 dcterms:subject "PREFIX void: <http://rdfs.org/ns/void#> PREFIX dcat: <http://www.w3.org/ns/dcat#> PREFIX earl: <http://www.w3.org/ns/earl#> PREFIX kgi: <http://ns.inria.fr/kg/index#> PREFIX voidex: <http://ldf.fi/void-ext#> PREFIX dqv: <http://www.w3.org/ns/dqv#> PREFIX xsd: <http://www.w3.org/2001/XMLSchema#> SELECT (count(DISTINCT ?endpoint) AS ?count) WHERE {   ?endpointDesc dcat:endpointURL ?endpoint .   ?measurement dqv:computedOn ?endpointDesc .   ?measurement dqv:isMeasurementOf <https://raw.githubusercontent.com/Wimmics/IndeGx/main/rules/check/reachability.ttl> .   ?measurement dqv:value 'true'^^xsd:boolean }" ;
#                         dcterms:description "Returns the number of tests that passed the availability test." .
#                 }"""
#         ]
#         [
#             mf:action """
#                 PREFIX dcterms: <http://purl.org/dc/terms/>
#                 PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
#                 PREFIX kgi: <http://ns.inria.fr/kg/index#>
#                 INSERT DATA {
#                     kgi:IndeGxDataset skos:example kgi:example15 .
#                     kgi:example15 dcterms:subject "PREFIX void: <http://rdfs.org/ns/void#>     PREFIX dcat: <http://www.w3.org/ns/dcat#>     PREFIX earl: <http://www.w3.org/ns/earl#>     PREFIX kgi: <http://ns.inria.fr/kg/index#>     SELECT DISTINCT ?test (count(?result) AS ?count)    WHERE {       ?base a  dcat:Dataset .       ?metadata kgi:curated ?base .      ?metadata kgi:trace ?trace .       ?trace earl:result ?result .       ?result earl:outcome earl:failed .       ?trace earl:test ?test .     } GROUP BY ?test ORDER BY DESC(?count)" ;
#                         dcterms:description "Returns the tests sorted by their number of failures." .
#                 }"""
#         ]
#         [
#             mf:action """
#                 PREFIX dcterms: <http://purl.org/dc/terms/>
#                 PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
#                 PREFIX kgi: <http://ns.inria.fr/kg/index#>
#                 INSERT DATA {
#                     kgi:IndeGxDataset skos:example kgi:example16 .
#                     kgi:example16 dcterms:subject "PREFIX void: <http://rdfs.org/ns/void#> PREFIX dcat: <http://www.w3.org/ns/dcat#> PREFIX earl: <http://www.w3.org/ns/earl#> PREFIX kgi: <http://ns.inria.fr/kg/index#> PREFIX prov: <http://www.w3.org/ns/prov#> SELECT ?base (count(DISTINCT ?rule) AS ?count) WHERE {   ?base a  dcat:Dataset .   ?metadata kgi:curated ?base .   ?metadata prov:wasGeneratedBy ?activity .   ?activity prov:used ?rule . } GROUP BY ?base ORDER BY DESC(?count)" ;
#                         dcterms:description "Returns the tests sorted by their number of rules used in their construction." .
#                 }"""
#         ]
#         [
#             mf:action """
#                 PREFIX dcterms: <http://purl.org/dc/terms/>
#                 PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
#                 PREFIX kgi: <http://ns.inria.fr/kg/index#>
#                 INSERT DATA {
#                     kgi:IndeGxDataset skos:example kgi:example17 .
#                     kgi:example17 dcterms:subject "PREFIX void: <http://rdfs.org/ns/void#> PREFIX dcat: <http://www.w3.org/ns/dcat#> PREFIX earl: <http://www.w3.org/ns/earl#> PREFIX kgi: <http://ns.inria.fr/kg/index#> SELECT DISTINCT ?test (count(DISTINCT ?base) AS ?count) WHERE {  ?base a  dcat:Dataset . ?metadata kgi:curated ?base . ?metadata kgi:trace ?trace . ?trace earl:result ?result . ?result earl:outcome earl:passed . ?trace earl:test ?test . } GROUP BY ?test ORDER BY DESC(?count)" ;
#                         dcterms:description "Returns the tests sorted by their number of bases that used them in their construction." .
#                 }"""
#         ]
#         [
#             mf:action """
#                 PREFIX dcterms: <http://purl.org/dc/terms/>
#                 PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
#                 PREFIX kgi: <http://ns.inria.fr/kg/index#>
#                 INSERT DATA {
#                     kgi:IndeGxDataset skos:example kgi:example18 .
#                     kgi:example18 dcterms:subject "PREFIX void: <http://rdfs.org/ns/void#> PREFIX sd: <http://www.w3.org/ns/sparql-service-description#> PREFIX dcat: <http://www.w3.org/ns/dcat#> PREFIX earl: <http://www.w3.org/ns/earl#> PREFIX kgi: <http://ns.inria.fr/kg/index#> SELECT ?vocab (COUNT(?base) AS ?count) {   ?metadata kgi:curated ?base .   ?base a dcat:Dataset .   ?base void:vocabulary ?vocab } GROUP BY ?vocab ORDER BY DESC(?count)" ;
#                         dcterms:description "Returns the vocabularies and the number of datasets they are used in." .
#                 }"""
#         ]
#         [
#             mf:action """
#                 PREFIX dcterms: <http://purl.org/dc/terms/>
#                 PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
#                 PREFIX kgi: <http://ns.inria.fr/kg/index#>
#                 INSERT DATA {
#                     kgi:IndeGxDataset skos:example kgi:example19 .
#                     kgi:example19 dcterms:subject "PREFIX void: <http://rdfs.org/ns/void#>  PREFIX sd: <http://www.w3.org/ns/sparql-service-description#>  PREFIX dcat: <http://www.w3.org/ns/dcat#>  PREFIX earl: <http://www.w3.org/ns/earl#>  PREFIX kgi: <http://ns.inria.fr/kg/index#>  PREFIX sparqles: <https://sparqles.ai.wu.ac.at/#> SELECT ?feature (COUNT(DISTINCT ?metadata) AS ?count) {   ?metadata kgi:curated ?endpoint .   ?endpoint sd:feature ?feature . } GROUP BY ?feature ORDER BY DESC(?count)" ;
#                         dcterms:description "Returns the SPARQL features and the number of endpoints they are supported by." .
#                 }"""
#         ]
#         [
#             mf:action """
#                 PREFIX dcterms: <http://purl.org/dc/terms/>
#                 PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
#                 PREFIX kgi: <http://ns.inria.fr/kg/index#>
#                 INSERT DATA {
#                     kgi:IndeGxDataset skos:example kgi:example20 .
#                     kgi:example20 dcterms:subject "PREFIX void: <http://rdfs.org/ns/void#>  PREFIX sd: <http://www.w3.org/ns/sparql-service-description#>  PREFIX dcat: <http://www.w3.org/ns/dcat#>  PREFIX earl: <http://www.w3.org/ns/earl#>  PREFIX kgi: <http://ns.inria.fr/kg/index#>  PREFIX sparqles: <https://sparqles.ai.wu.ac.at/#> SELECT (COUNT(DISTINCT ?base) AS ?count) {   ?metadata kgi:curated ?base .   ?base a dcat:Dataset .   ?base void:classPartition ?classPartition .   ?classPartition void:propertyPartition ?classPropPartition . } ORDER BY DESC(?count)" ;
#                         dcterms:description "Count the number of dataset description containing the list of properties appearing around the instances of each class." .
#                 }"""
#         ]
#     ) .
