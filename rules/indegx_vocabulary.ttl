@prefix adms: <http://www.w3.org/ns/adms#> .
@prefix dataid: <http://dataid.dbpedia.org/ns/core#> .
@prefix dcat: <http://www.w3.org/ns/dcat#> .
@prefix dce: <http://purl.org/dc/elements/1.1/> .
@prefix dcmitype: <http://purl.org/dc/dcmitype/> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix dqv: <http://www.w3.org/ns/dqv#> .
@prefix earl: <http://www.w3.org/ns/earl#> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix kgi: <http://ns.inria.fr/kg/index#> .
@prefix mf: <http://www.w3.org/2001/sw/DataAccess/tests/test-manifest#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix pav: <http://purl.org/pav/> .
@prefix prov: <http://www.w3.org/ns/prov#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix sd: <http://www.w3.org/ns/sparql-service-description#> .
@prefix xhv: <http://www.w3.org/1999/xhtml/vocab#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix voaf: <http://purl.org/vocommons/voaf#>.
@prefix void: <http://rdfs.org/ns/void#> .

kgi: rdf:type owl:Ontology, voaf:Vocabulary ;
    dcterms:creator "Pierre Maillot", <https://orcid.org/0000-0002-9814-439X> ;
    dcterms:publisher "INRIA, Team WIMMICS", <https://www.inria.fr/fr/wimmics> ;
    dcterms:title  "IndeGx vocabulary"@en ;
    dcterms:description "Vocabulary to complete the manifest and EARL vocabularies for the declaration of the IndeGx framework and the content of an index generated by the IndeGx framework"@en ;
    dcterms:date "2021-10" ;
    pav:lastUpdateOn "2023-05-30" ;
    dcterms:format "RDF" ;
    dcterms:identifier kgi: ;
    owl:imports adms:, dataid:, dcat:, dce:, dcmitype:, dcterms:, dqv:, earl:, foaf:, mf:, owl:, pav:, prov:, rdf:, rdfs:, sd:, xhv:, xsd:, void: .

# Index structuration vocabulary

kgi:IndeGxDataset rdf:type rdfs:Resource ;
    rdfs:label "Root of a catalog." ;
    rdfs:isDefinedBy kgi: ;
    rdfs:comment "Default resource used to represent the catalog at the root of the index."@en .

kgi:original rdf:type rdf:Property ;
    rdfs:label "Original description resources."@en ;
    rdfs:comment "Description resources connected to the endpoint URL extracted from the KB"@en ;
    rdfs:isDefinedBy kgi: ;
    rdfs:domain prov:Entity ;
    rdfs:range prov:Entity .

kgi:curated rdf:type rdf:Property ;
    rdfs:label "Generated description resources."@en ;
    rdfs:comment "Description resources generated from the interrogation of the endpoint URL and the curation of the available original resources descriptions."@en ;
    rdfs:isDefinedBy kgi: ;
    rdfs:domain prov:Entity ;
    rdfs:range prov:Entity .

kgi:trace rdf:type rdf:Property ;
    rdfs:label "Trace report of the metadata generation."@en ;
    rdfs:comment "EARL report resulting in the execution of a query during the generation of the metadata."@en ;
    rdfs:isDefinedBy kgi: ;
    rdfs:domain prov:Entity ;
    rdfs:range earl:Assertion .

# Generation assets structuration vocabulary

kgi:endpoint rdf:type rdf:Property ;
    rdfs:label "Indicates the endpoint to send a test or action."@en ;
    rdfs:isDefinedBy kgi: .

kgi:sentQuery rdf:type rdf:Property ;
    rdfs:comment "String representation of the SPARQL query sent to the server after transformation to adapt it to the endpoint, if necessary."@en ;
    rdfs:label "Query sent to the server"@en ;
    rdfs:domain earl:TestResult ;
    rdfs:range xsd:string .

kgi:TestQuery rdf:type rdfs:Class ;
    rdfs:label "Test of rdf:type SPARQL query execution"@en ;
    rdfs:comment "Test the result of the execution of rdf:type query in the manner of rdf:type SHACL shape but allows declaration of constraints on the HTTP response and the result."@en ;
    rdfs:isDefinedBy kgi: ;
    rdfs:subClassOf earl:TestCase .

kgi:onSuccess rdf:type rdf:Property ;
    rdfs:label "List of actions triggered by the success of the test present at the URI of the entry."@en ;
    rdfs:isDefinedBy kgi: ;
    rdfs:domain mf:ManifestEntry ;
    rdfs:range rdf:List .

kgi:onFailure rdf:type rdf:Property ;
    rdfs:label "List of actions triggered by the failure of the test present at the URI of the entry."@en ;
    rdfs:isDefinedBy kgi: ;
    rdfs:domain mf:ManifestEntry ;
    rdfs:range rdf:List .

kgi:DummyTest rdf:type rdf:Class ;
    rdfs:label "Placeholder class for the test of a rule only affecting the index data."@en ;
    rdfs:isDefinedBy kgi: ;
    rdfs:comment "Some tests and actions are 'meta' rules that do not need interaction with remote endpoints. This class is for a test that always succeed for these rules."@en ;
    rdfs:subClassOf earl:TestCase .

kgi:requiredAssets rdf:type rdf:Property ;
    rdfs:label "Generation assets that must be applied for this generation asset to be applied."@en ;
    rdfs:isDefinedBy kgi: ;
    rdfs:domain mf:ManifestEntry ;
    rdfs:range [ 
        owl:unionOf ( 
            mf:ManifestEntry 
            mf:Manifest 
            ) 
        ] .

kgi:requiredSuccesses rdf:type rdf:Property ;
    rdfs:subPropertyOf kgi:requiredAssets ;
    rdfs:label "Generation assets that must be successful for this generation asset to be applied."@en ;
    rdfs:isDefinedBy kgi: .

kgi:requiredFailures rdf:type rdf:Property ;
    rdfs:subPropertyOf kgi:requiredAssets ;
    rdfs:label "Generation assets that must fail for this generation asset to be applied."@en ;
    rdfs:isDefinedBy kgi: .

# properties to set up the parameters of the indexation

kgi:timeout rdf:type rdf:Property ;
    rdfs:label "Specify a timeout for a test or action."@en ;
    rdfs:isDefinedBy kgi: ;
    rdfs:comment "Queries sent during test and actions may need a specific timeout, generally longer than normal. This property specify the timeout for a test or an action."@en ;
    rdfs:range xsd:duration .

kgi:recommendedPagination rdf:type rdf:Property ;
    rdfs:label "Recommended size for pagination during retrieval of the results of an action"@en ;
    rdfs:comment "This indicates the size of the page to use in the actions queries."@en ;
    rdfs:isDefinedBy kgi: ;
    rdfs:range xsd:integer .

# Pseudo-partitions and linksets

kgi:linkset rdf:type rdf:Property ;
    rdfs:label "Link a dataset description to the linkset that were retrieved during its indexation"@en ;
    rdfs:isDefinedBy kgi: ;
    rdfs:domain void:Dataset ;
    rdfs:range void:Linkset .

kgi:resourceHostname rdf:type rdf:Property ;
    rdfs:label "Hostname of the resources of the dataset"@en ;
    rdfs:comment "Linked to URIs representing the hostnames of the resources of the dataset."@en ;
    rdfs:isDefinedBy kgi: ;
    rdfs:domain void:Dataset .

kgi:hostnamePartition rdf:type rdf:Property ;
    rdfs:label "Partition of the dataset according to the hostname used the URIs of instances"@en ;
    rdfs:comment "This property is to be used on the same model as void:classPartition and void:propertyPartition."@en ;
    rdfs:subPropertyOf void:subset ;
    rdfs:isDefinedBy kgi: ;
    rdfs:domain void:Dataset .

kgi:vocabularyPartition rdf:type rdf:Property ;
    rdfs:label "Partition of the dataset according to the vocabulary used in triples"@en ;
    rdfs:comment "This property is to be used on the same model as void:classPartition and void:propertyPartition."@en ;
    rdfs:subPropertyOf void:subset ;
    rdfs:isDefinedBy kgi: ;
    rdfs:domain void:Dataset .

# Other dataset description properties

kgi:availableLiteralDatatypes rdf:type rdf:Property ;
    rdf:label "" ;
    rdfs:comment "" ;
    rdfs:isDefinedBy kgi: ;
    rdfs:domain void:Dataset ;
    rdfs:range xsd:string .

kgi:resourceHostname rdf:type rdf:Property ;
    rdf:label "" ;
    rdfs:comment "" ;
    rdfs:domain void:Dataset ;
    rdfs:range rdf:Resource ;
    rdfs:isDefinedBy kgi: .

kgi:summary rdf:type rdf:Property ;
    rdf:label "Link between a dataset and a summary of its content."@en ;
    rdfs:domain void:Dataset ;
    rdfs:range sd:NamedGraph .

# Description of the common elements between datasets

kgi:CommonalityDescription rdf:type rdf:Class ;
    rdf:label "Description of the common elements between datasets."@en;
    rdfs:comment "This is designed to give the elements that are common between the descriptions of groups of datasets"@en;
    rdfs:isDefinedBy kgi: .

kgi:VocabularyCommonalityDescription rdf:subClassOf kgi:CommonalityDescription ;
    rdf:label "Description of the common vocabularies used in different datasets."@en ;
    rdfs:comment "This shoud be used with kgi:vocabulary and kgi:dataset to list the vocabularies common to a group of datasets"@en ;
    rdfs:isDefinedBy kgi: .

kgi:dataset rdf:type rdf:Property ;
    rdf:label "Indicates the datasets whose commonalities are described by and instance of CommonalityDescription."@en ;
    rdfs:domain kgi:CommonalityDescription ;
    rdfs:range void:Dataset ;
    rdfs:isDefinedBy kgi: .

kgi:ClassCommonalityDescription rdf:subClassOf kgi:CommonalityDescription ;
    rdf:label "Description of the common classes used in different datasets."@en ;
    rdfs:comment "This shoud be used with kgi:class and kgi:dataset to list the classes common to a group of datasets"@en ;
    rdfs:isDefinedBy kgi: .

kgi:PropertyCommonalityDescription rdf:subClassOf kgi:CommonalityDescription ;
    rdf:label "Description of the common properties used in different datasets."@en ;
    rdfs:comment "This shoud be used with kgi:property and kgi:dataset to list the properties common to a group of datasets"@en ;
    rdfs:isDefinedBy kgi: .

kgi:DatatypeCommonalityDescription rdf:subClassOf kgi:CommonalityDescription ;
    rdf:label "Description of the common datatypes used in different datasets."@en ;
    rdfs:comment "This shoud be used with kgi:datatype and kgi:dataset to list the datatypes common to a group of datasets"@en ;
    rdfs:isDefinedBy kgi: .

kgi:ResourceHostnameCommonalityDescription rdf:subClassOf kgi:CommonalityDescription ;
    rdf:label "Description of the common resources hostnames used in different datasets."@en ;
    rdfs:comment "This shoud be used with kgi:hostname and kgi:dataset to list the resources hostnames common to a group of datasets"@en ;
    rdfs:isDefinedBy kgi: .

kgi:commonVocabularyDescription rdf:type rdf:Property ;
    rdf:label "Links a dataset to its vocabulary commonalities descriptions."@en ;
    rdfs:domain void:Dataset ;
    rdfs:range kgi:VocabularyCommonalityDescription ;
    rdfs:isDefinedBy kgi: .

kgi:vocabulary rdf:type rdf:Property ;
    rdf:label "Indicates the vocabularies that are common to a group of datasets in an instance of CommonalityDescription."@en ;
    rdfs:domain kgi:VocabularyCommonalityDescription ;
    rdfs:isDefinedBy kgi: .

kgi:commonClassDescription rdf:type rdf:Property ;
    rdf:label "Links a dataset to its class commonalities descriptions."@en ;
    rdfs:domain void:Dataset ;
    rdfs:range kgi:ClassCommonalityDescription ;
    rdfs:isDefinedBy kgi: .

kgi:class rdf:type rdf:Property ;
    rdf:label "Indicates the classes that are common to a group of datasets in an instance of CommonalityDescription."@en ;
    rdfs:domain kgi:ClassCommonalityDescription ;
    rdfs:isDefinedBy kgi: .

kgi:commonPropertyDescription rdf:type rdf:Property ;
    rdf:label "Links a dataset to its property commonalities descriptions."@en ;
    rdfs:domain void:Dataset ;
    rdfs:range kgi:PropertyCommonalityDescription ;
    rdfs:isDefinedBy kgi: .

kgi:property rdf:type rdf:Property ;
    rdf:label "Indicates the properties that are common to a group of datasets in an instance of CommonalityDescription."@en ;
    rdfs:domain kgi:PropertyCommonalityDescription ;
    rdfs:isDefinedBy kgi: .

kgi:commonDatatypeDescription rdf:type rdf:Property ;
    rdf:label "Links a dataset to its datatype commonalities descriptions."@en ;
    rdfs:domain void:Dataset ;
    rdfs:range kgi:DatatypeCommonalityDescription ;
    rdfs:isDefinedBy kgi: .

kgi:datatype rdf:type rdf:Property ;
    rdf:label "Indicates the datatypes that are common to a group of datasets in an instance of CommonalityDescription."@en ;
    rdfs:domain kgi:DatatypeCommonalityDescription ;
    rdfs:isDefinedBy kgi: .

kgi:commonHostnameDescription rdf:type rdf:Property ;
    rdf:label "Links a dataset to its hostname commonalities descriptions."@en ;
    rdfs:domain void:Dataset ;
    rdfs:range kgi:ResourceHostnameCommonalityDescription ;
    rdfs:isDefinedBy kgi: .

kgi:hostname rdf:type rdf:Property ;
    rdf:label "Indicates the resource hostnames that are common to a group of datasets in an instance of CommonalityDescription."@en ;
    rdfs:comment "To not be confused with kgi:resourceHostname, which lists the resource hostnames appearing in a dataset."@en ;
    rdfs:domain kgi:ResourceHostnameCommonalityDescription ;
    rdfs:isDefinedBy kgi: .